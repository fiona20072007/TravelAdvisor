{"version":3,"sources":["scss/locationDetail.module.scss","scss/member.module.scss","scss/App.module.scss","scss/location.module.scss","firebase.js","location/locationShow.js","member/index.js","location/index.js","locationDetail/show.js","config.js","locationDetail/map.js","locationDetail/index.js","schedule/AddSchedule.js","schedule/FindLocation.js","schedule/LikeLocation.js","schedule/TrafficSchedule.js","schedule/DragListSchedule.js","schedule/DropSchedule.js","schedule/ScheduleMap.js","schedule/EditSchedule.js","schedule/index.js","App.js","reportWebVitals.js","index.js","scss/schedule.module.scss"],"names":["module","exports","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","LocationShow","props","className","styles","location","locationShow","indexLocation","map","item","onClick","handleOnChange","value","name","label","itemName","itemDescription","description","src","photo","alt","itemPhoto","nanoid","MemberIndex","googleLogin","provider","auth","GoogleAuthProvider","signInWithPopup","then","result","token","credential","accessToken","user","console","log","catch","error","googleSignOut","signOut","member","banner","title","this","React","Component","db","LocationIndex","componentDidMount","collection","onSnapshot","querySnapshot","indexLocationTemp","forEach","doc","push","data","setState","loadOptions","inputValue","a","toLowerCase","replace","Promise","resolve","orderBy","startAt","endAt","get","docs","empty","recommendedTags","tag","id","tagName","tags","history","state","selectedTag","memberLoginState","locationAll","navBar","navBarList","to","prevState","locationInput","onChange","Show","bannerName","locationBanner","bannerDes","bannerPhoto","titleShow","locationArray","config","API_KEY","SimpleMap","compose","withProps","googleMapURL","loadingElement","style","height","containerElement","width","mapElement","withScriptjs","withGoogleMap","center","zoom","locationDetail","place","i","position","pos","event","markerClickHandler","Math","floor","infoOpen","selectedPlace","onCloseClick","setInfoOpen","LocationDetail","match","params","locationDetailTemp","country","Country","city","City","area","Area","PointImgUrl","lat","parseFloat","latitude","lng","longitude","address","open_time","telephone","star_level","travelPoint","TravelPoint_Be_Added_Count","url","parseInt","locationArrayTemp","data-column","target","onMouseOver","document","getElementById","display","likeList","find","fill","onMouseLeave","itemLike","handleLike","viewBox","d","locationArrayT","locationBannerTemp","centerTemp","zoomTemp","zoom_level","undefined","set","like","merge","likeItem","showId","splice","itemSelect","itemSelectPhoto","selectDetail","window","setTimeout","scrollIntoView","behavior","block","inline","n","likeAllArr","obj","length","removeLikeAllArr","filter","left","icon1","querySelector","classList","toggle","open","right","AddSchedule","handleChange","handleSubmit","preventDefault","size","CoverImgUrl","EndDate","endDateSubmit","EndDateStamp","endDateStamp","ImMultiEditMember","ShareLink","StartDate","startDateSubmit","StartDateStamp","startDateStamp","TotalDay","totalDay","TravelScheduleDetailInfos","TravelScheduleName","comment","dateBlock","morning","afternoon","night","alert","onDatesChange","startDate","endDate","startDateTemp","moment","format","endDateTemp","throughTime","days","valueOf","dateTemp","onFocusChange","focusedInput","handleDate","e","date","snap","onSubmit","type","FindLocation","loadOptionsCountry","countryId","handleOnChangeCountry","getCountry","draggableId","index","provided","draggableProps","dragHandleProps","ref","innerRef","searchLike","likeArr","searchAll","locationList","LikeLocation","arr","locationLikeDetail","setArr","elsLike","getElementsByClassName","Array","from","el","docAll","locationLikeDetailTemp","where","toString","filterFiedsOptions","icon","faCar","faWalking","faSubway","faBicycle","TrafficSchedule","filterSelectedData","Object","assign","trafficDetail","num","travelMode","handleTraffic","selectedFilter","traffic","routes","legs","distance","text","itemTraffic","options","placeholder","duration","DragListSchedule","deleteLocation","travelMorningTemp","travelAll","travelDetailCountry","travelSet","pathname","substring","emptyList","itemList","setSelectedPlace","itemListDelete","DropSchedule","travelDateDetail","travelShowId","travelDateDetailTemp","travelDetailCountryTemp","dates","scheduleDateAll","droppableId","scheduleDateOnly","scheduleDetail","droppableProps","MarkerWithLabel","require","lifecycle","componentDidUpdate","prevProps","locationObj","travelDataArr","DirectionsService","google","maps","keys","locationArrTemp","route","origin","destination","TravelMode","status","DirectionsStatus","OK","showTraffic","directions","useState","setCenter","colorAll","setColorAll","useEffect","colorArr","letters","split","j","color","random","defaultZoom","labelAnchor","Point","labelStyle","backgroundColor","borderRadius","fontSize","fontWeight","textAlign","verticalAlign","setSelectedPlaceMarker","markerText","defaultOptions","suppressMarkers","EditSchedule","searchCountry","onDragStart","travelMorningAllTemp","travelMorningAll","substr","searchCountryDetail","onDragEnd","source","remove","travelMorning","travelMorningDragTemp","travelMorningDropTemp","handleLocationShow","handleCollectionShow","travelData","travelDataTemp","travelDataArrTemp","locationSpot","LatLng","scheduleWithMap","scheduleAll","switchBtn","scheduleListAll","scheduleList","scheduleTitle","schedulePhoto","scheduleMap","ScheduleMap","ScheduleIndex","useRouteMatch","path","TravelSchedule","setTravelSchedule","TravelId","setTravelId","useLocation","travelShow","charAt","TravelScheduleTemp","scheduleLayout","scheduleNav","scheduleListRange","scheduleListDetail","component","App","app","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render"],"mappings":"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","file":"static/js/main.3a0b8342.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"locationAll\":\"locationDetail_locationAll__kgg_o\",\"right\":\"locationDetail_right__2Lw4_\",\"left\":\"locationDetail_left__3Jgxr\",\"banner\":\"locationDetail_banner__2SVsJ\",\"bannerName\":\"locationDetail_bannerName__vxWfW\",\"bannerDes\":\"locationDetail_bannerDes__1fEgq\",\"bannerPhoto\":\"locationDetail_bannerPhoto__3Jcyl\",\"navBar\":\"locationDetail_navBar__175yc\",\"navBarList\":\"locationDetail_navBarList__3Q82A\",\"title\":\"locationDetail_title__2JnI7\",\"locationInput\":\"locationDetail_locationInput__3qElD\",\"location\":\"locationDetail_location__1GpwA\",\"locationShow\":\"locationDetail_locationShow__3rXhg\",\"titleShow\":\"locationDetail_titleShow__2xlgb\",\"item\":\"locationDetail_item__2SzPu\",\"itemSelect\":\"locationDetail_itemSelect__1dgtC\",\"selectDetail\":\"locationDetail_selectDetail__2TP0K\",\"itemPhoto\":\"locationDetail_itemPhoto__1F8oB\",\"itemSelectPhoto\":\"locationDetail_itemSelectPhoto__1dAgU\",\"itemLike\":\"locationDetail_itemLike__2Y3te\",\"marker\":\"locationDetail_marker__mIOvk\",\"icon1\":\"locationDetail_icon1__12Vhw\",\"open\":\"locationDetail_open__2reQU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"member\":\"member_member__36zxE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__3S3eq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"locationAll\":\"location_locationAll__13MOP\",\"navBar\":\"location_navBar__1H-il\",\"navBarList\":\"location_navBarList__MGJmE\",\"banner\":\"location_banner__1ElCc\",\"title\":\"location_title__1lAJx\",\"locationInput\":\"location_locationInput__vGbK3\",\"location\":\"location_location__3Y6Pt\",\"locationShow\":\"location_locationShow__2QR3-\",\"titleShow\":\"location_titleShow__2tfIc\",\"item\":\"location_item__9Plxv\",\"itemPhoto\":\"location_itemPhoto__3MzgM\",\"itemName\":\"location_itemName__3BLUT\",\"itemDescription\":\"location_itemDescription__3F-0A\"};","import firebase from \"firebase\";\nimport \"firebase/storage\";\nimport \"firebase/database\";\nimport \"firebase/auth\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyAupP8pk0usCtzryMeCkskkn_1OuE1s2mg\",\n  authDomain: \"tripadvisor-abc.firebaseapp.com\",\n  databaseURL: \"https://tripadvisor-abc.firebaseio.com\",\n  projectId: \"tripadvisor-abc\",\n  storageBucket: \"tripadvisor-abc.appspot.com\",\n  messagingSenderId: \"385058100845\",\n  appId: \"1:385058100845:web:e14c078e62560948f99164\",\n  measurementId: \"G-WJKPTNBC2F\"\n};\n\nfirebase.initializeApp(firebaseConfig);\nfirebase.firestore();\n\n// provider.setCustomParameters({\n//   prompt: \"select_account\"\n// });\n// export const signInWithGoogle = () =>\n//   firebase\n//     .initializeApp(firebaseConfig)\n//     .auth()\n//     .signInWithPopup(provider);\nexport default firebase;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { nanoid } from \"nanoid\";\nimport styles from \"../scss/location.module.scss\";\n\nconst LocationShow = (props) => {\n  return (\n    <div className={styles.location}>\n      {/* <div className={styles.titleShow}>熱門地點</div> */}\n      <div className={styles.locationShow}>\n        {props.indexLocation.map((item) => {\n          return (\n            <div\n              key={nanoid()}\n              className={styles.item}\n              onClick={() => {\n                props.handleOnChange({ value: item.name, label: item.name });\n              }}\n            >\n              <div className={styles.itemName}>{item.name}</div>\n              <div className={styles.itemDescription}>{item.description}</div>\n              <img\n                src={item.photo}\n                alt={item.name}\n                className={styles.itemPhoto}\n              ></img>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nLocationShow.propTypes = {\n  indexLocation: PropTypes.array.isRequired,\n  handleOnChange: PropTypes.func.isRequired,\n};\n\nexport default LocationShow;\n","import React from \"react\";\nimport firebase from \"../firebase\";\n// import AsyncSelect from \"react-select/async\";\n// import LocationShow from \"./locationShow\";\nimport styles from \"../scss/member.module.scss\";\n// import PropTypes from \"prop-types\";\n// import { Link } from \"react-router-dom\";\n// import { signInWithGoogle } from \"../firebase\";\n\n// const db = firebase.firestore();\n\nclass MemberIndex extends React.Component {\n  //   constructor(props) {\n  //     super(props);\n\n  //     this.state = {\n  //       // value: \"\",\n  //       selectedTag: [],\n  //       indexLocation: []\n  //     };\n  //   }\n  googleLogin = () => {\n    const provider = new firebase.auth.GoogleAuthProvider();\n    firebase\n      .auth()\n      .signInWithPopup(provider)\n      .then(function(result) {\n        // This gives you a Google Access Token. You can use it to access the Google API.\n        var token = result.credential.accessToken;\n        // The signed-in user info.\n        var user = result.user;\n        // ...\n        console.log(token, user);\n      })\n      .catch(function(error) {\n        console.log(error);\n      });\n  };\n  googleSignOut = () => {\n    firebase\n      .auth()\n      .signOut()\n      .then(function() {\n        // Sign-out successful.\n        console.log(\"signout success\");\n      })\n      .catch(function(error) {\n        // An error happened.\n        console.log(error);\n      });\n  };\n\n  render() {\n    return (\n      <div className={styles.member}>\n        {/* <div className={styles.navBar}>三</div> */}\n        {/* <div className={styles.navBarList}>\n          <Link to=\"/\">Home</Link>\n          <Link to=\"/schedule\">行程規劃</Link>\n          <Link to=\"/member\">會員登入</Link>\n        </div> */}\n        <div className={styles.banner}></div>\n        <div className={styles.title}>會員登入</div>\n        <div>\n          <div>帳號</div>\n          <input></input>\n          <div>密碼</div>\n          <input></input>\n        </div>\n        <button onClick={this.googleLogin}>Continue with Google</button>\n        <button onClick={this.googleSignOut}>Log Out</button>\n      </div>\n    );\n  }\n}\n\n// MemberIndex.propTypes = {\n//   history: PropTypes.object.isRequired\n// };\n\nexport default MemberIndex;\n","import React from \"react\";\nimport firebase from \"../firebase\";\nimport AsyncSelect from \"react-select/async\";\nimport LocationShow from \"./locationShow\";\nimport MemberIndex from \"../member\";\nimport styles from \"../scss/location.module.scss\";\nimport PropTypes from \"prop-types\";\nimport { Link } from \"react-router-dom\";\n\nconst db = firebase.firestore();\n\nclass LocationIndex extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      selectedTag: [],\n      indexLocation: [],\n      memberLoginState: false,\n    };\n  }\n  componentDidMount = () => {\n    db.collection(\"indexCountry\").onSnapshot((querySnapshot) => {\n      let indexLocationTemp = [];\n      querySnapshot.forEach(function (doc) {\n        indexLocationTemp.push({\n          name: doc.data().name,\n          description: doc.data().description,\n          photo: doc.data().photo,\n        });\n      });\n      this.setState({\n        indexLocation: indexLocationTemp,\n      });\n    });\n  };\n\n  loadOptions = async (inputValue) => {\n    inputValue = inputValue.toLowerCase().replace(/\\W/g, \"\");\n    return new Promise((resolve) => {\n      db.collection(\"Tag\")\n        .orderBy(\"plainName\")\n        .startAt(inputValue)\n        .endAt(inputValue + \"\\uf8ff\")\n        .get()\n        .then((docs) => {\n          if (!docs.empty) {\n            let recommendedTags = [];\n            docs.forEach(function (doc) {\n              const tag = {\n                value: doc.id,\n                label: doc.data().tagName,\n              };\n              recommendedTags.push(tag);\n            });\n            return resolve(recommendedTags);\n          } else {\n            return resolve([]);\n          }\n        });\n    });\n  };\n\n  handleOnChange = (tags) => {\n    this.props.history.push(`/locationDetail/${tags.label}`);\n  };\n\n  render() {\n    return (\n      <div className={styles.locationAll}>\n        <div className={styles.navBar}>三</div>\n        <div className={styles.navBarList}>\n          <Link to=\"/\">Home</Link>\n          <Link to=\"/schedule\">行程規劃</Link>\n          {/* <Link to=\"/member\">會員登入</Link> */}\n          <div\n            onClick={() => {\n              this.setState((prevState) => ({\n                memberLoginState: !prevState.memberLoginState,\n              }));\n            }}\n          >\n            會員登入\n          </div>\n        </div>\n        <div className={styles.banner}></div>\n        <div className={styles.title}>挑選地點</div>\n        <AsyncSelect\n          className={styles.locationInput}\n          loadOptions={this.loadOptions}\n          onChange={this.handleOnChange}\n        />\n\n        <LocationShow\n          indexLocation={this.state.indexLocation}\n          handleOnChange={this.handleOnChange}\n        />\n        {this.state.memberLoginState === true && <MemberIndex />}\n      </div>\n    );\n  }\n}\n\nLocationIndex.propTypes = {\n  history: PropTypes.object.isRequired,\n};\n\nexport default LocationIndex;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport styles from \"../scss/locationDetail.module.scss\";\n\nconst Show = (props) => {\n  return (\n    <div>\n      <div className={styles.banner}>\n        <div className={styles.bannerName}>{props.locationBanner.name}</div>\n        <div className={styles.bannerDes}>\n          {props.locationBanner.description}\n        </div>\n        <img className={styles.bannerPhoto} src={props.locationBanner.photo} />\n      </div>\n      <div className={styles.location}>\n        <div className={styles.titleShow}>搜尋結果</div>\n        <div className={styles.locationShow}>{props.locationArray}</div>\n      </div>\n    </div>\n  );\n};\n\nShow.propTypes = {\n  locationBanner: PropTypes.array,\n  locationArray: PropTypes.array,\n};\n\nexport default Show;\n","const config = {\n  // API_HOST: \"https://mickeyzone.online/api/1.0\",\n  // FACEBOOK_APP_ID: \"700590737403665\",\n  API_KEY: \"AIzaSyB3k7sX8JtuhiokD-xfe9UgOIltB4HtkrM\"\n};\n\nexport default config;\n","import React, { Fragment } from \"react\";\nimport config from \"../config\";\nimport {\n  GoogleMap,\n  Marker,\n  InfoWindow,\n  withScriptjs,\n  withGoogleMap,\n} from \"react-google-maps\";\nimport { compose, withProps } from \"recompose\";\n\nconst SimpleMap = compose(\n  withProps({\n    googleMapURL: `https://maps.googleapis.com/maps/api/js?key=${config.API_KEY}&v=3.exp&libraries=geometry,drawing,places`,\n    loadingElement: <div style={{ height: `100%` }} />,\n    containerElement: <div style={{ height: \"100vh\", width: \"100%\" }} />,\n    mapElement: <div style={{ height: \"100%\" }} />,\n  }),\n  withScriptjs,\n  withGoogleMap\n)((props) => {\n  const renderMap = () => {\n    return (\n      <Fragment>\n        <GoogleMap center={props.center} zoom={props.zoom}>\n          {props.locationDetail.map((place, i) => {\n            return (\n              <Marker\n                key={place.id}\n                position={place.pos}\n                onClick={(event) =>\n                  props.markerClickHandler(event, place, Math.floor(i / 3))\n                }\n              >\n                {props.infoOpen && props.selectedPlace.pos == place.pos && (\n                  <InfoWindow onCloseClick={() => props.setInfoOpen(false)}>\n                    <div>\n                      <h3>{props.selectedPlace.name}</h3>\n                    </div>\n                  </InfoWindow>\n                )}\n              </Marker>\n            );\n          })}\n        </GoogleMap>\n      </Fragment>\n    );\n  };\n  return renderMap();\n});\n\nexport default SimpleMap;\n","import React from \"react\";\nimport firebase from \"../firebase\";\nimport AsyncSelect from \"react-select/async\";\nimport Show from \"./show\";\nimport SimpleMap from \"./map\";\nimport styles from \"../scss/locationDetail.module.scss\";\nimport PropTypes from \"prop-types\";\nimport { nanoid } from \"nanoid\";\nimport { Link } from \"react-router-dom\";\n\nconst db = firebase.firestore();\n\nclass LocationDetail extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      locationBanner: [],\n      locationDetail: [],\n      center: {},\n      zoom: 15,\n      selectedPlace: {},\n      infoOpen: false,\n      locationArray: [],\n      locationArrayT: [],\n      likeList: [],\n    };\n  }\n  componentDidMount = () => {\n    db.collection(\"country\")\n      .doc(this.props.match.params.tags)\n      .collection(\"location\")\n      .get()\n      .then((doc) => {\n        // .onSnapshot(querySnapshot => {\n        let locationDetailTemp = [];\n        doc.forEach(function (doc) {\n          locationDetailTemp.push({\n            name: doc.data().name,\n            country: doc.data().Country,\n            city: doc.data().City,\n            area: doc.data().Area,\n            photo: doc.data().PointImgUrl,\n            pos: {\n              lat: parseFloat(doc.data().latitude, 10),\n              lng: parseFloat(doc.data().longitude, 10),\n            },\n            latitude: parseFloat(doc.data().latitude, 10),\n            longitude: parseFloat(doc.data().longitude, 10),\n            address: doc.data().address,\n            open_time: doc.data().open_time,\n            telephone: doc.data().telephone,\n            star_level: doc.data().star_level,\n            travelPoint: doc.data().TravelPoint_Be_Added_Count,\n            url: doc.data().url,\n            id: parseInt(doc.data().id),\n          });\n        });\n        let locationArrayTemp = locationDetailTemp.map((item, i) => {\n          return (\n            <div\n              key={item.id}\n              id={item.id}\n              data-column={Math.floor(i / 3)}\n              onClick={(event) =>\n                this.markerClickHandler(\n                  event.target.tagName,\n                  item,\n                  Math.floor(i / 3)\n                )\n              }\n              className={styles.item}\n              onMouseOver={() => {\n                document.getElementById(`like-${item.id}`).style.display =\n                  \"block\";\n                if (this.state.likeList.find((i) => i.id === item.id)) {\n                  document.getElementById(`like-${item.id}`).style.fill =\n                    \"rgb(255, 128, 191)\";\n                  document.getElementById(`like-${item.id}`).style[\n                    \"fill-opacity\"\n                  ] = 1;\n                } else {\n                  document.getElementById(`like-${item.id}`).style.fill =\n                    \"rgb(255, 255, 255)\";\n                  document.getElementById(`like-${item.id}`).style[\n                    \"fill-opacity\"\n                  ] = 0.3;\n                }\n              }}\n              onMouseLeave={() => {\n                if (this.state.likeList.find((i) => i.id === item.id)) {\n                  return;\n                } else {\n                  document.getElementById(`like-${item.id}`).style.display =\n                    \"none\";\n                }\n              }}\n            >\n              <img src={item.photo} className={styles.itemPhoto}></img>\n              <div className={styles.itemName}>{item.name}</div>\n              <div>{item.star_level}</div>\n              <div\n                id={`like-${item.id}`}\n                className={styles.itemLike}\n                onClick={() => this.handleLike(item)}\n              >\n                <svg id=\"icon-heart\" viewBox=\"0 0 32 32\" width=\"30\" height=\"20\">\n                  <title>heart</title>\n                  <path d=\"M29.306 4.768c-1.662-1.66-3.958-2.687-6.493-2.687s-4.831 1.027-6.493 2.687l-0.32 0.32-0.32-0.32c-1.662-1.664-3.96-2.694-6.498-2.694-5.072 0-9.183 4.112-9.183 9.183 0 2.534 1.026 4.828 2.686 6.49l11.363 11.373c0.499 0.496 1.187 0.803 1.947 0.803s1.448-0.307 1.947-0.803l11.353-11.36c1.671-1.66 2.705-3.96 2.705-6.501 0-2.536-1.030-4.832-2.695-6.491l-0-0z\"></path>\n                </svg>\n              </div>\n            </div>\n          );\n        });\n\n        this.setState({\n          locationDetail: locationDetailTemp,\n          locationArray: locationArrayTemp,\n          locationArrayT: locationArrayTemp,\n        });\n      });\n    db.collection(\"indexCountry\")\n      .get()\n      .then((doc) => {\n        let locationBannerTemp;\n        let centerTemp;\n        let zoomTemp;\n        doc.forEach((doc) => {\n          if (doc.data().name === this.props.match.params.tags) {\n            locationBannerTemp = {\n              name: doc.data().name,\n              description: doc.data().description,\n              photo: doc.data().photo,\n              latitude: parseFloat(doc.data().latitude, 10),\n              longitude: parseFloat(doc.data().longitude, 10),\n              zoom_level: parseFloat(doc.data().zoom_level, 10),\n            };\n            centerTemp = {\n              lat: parseFloat(doc.data().latitude),\n              lng: parseFloat(doc.data().longitude),\n            };\n            zoomTemp = parseFloat(doc.data().zoom_level);\n          }\n        });\n        this.setState({\n          locationBanner: locationBannerTemp,\n          center: centerTemp,\n          zoom: zoomTemp,\n        });\n      });\n\n    db.collection(\"schedule\")\n      .doc(\"userId\")\n      .onSnapshot((doc) => {\n        if (doc.data()[\"like\"] === undefined) {\n          db.collection(\"schedule\").doc(\"userId\").set(\n            {\n              like: [],\n            },\n            { merge: true }\n          );\n        } else {\n          this.setState({ likeList: doc.data()[\"like\"] });\n          doc.data()[\"like\"].forEach((likeItem) => {\n            if (document.getElementById(`like-${likeItem.id}`) === null) {\n              return;\n            } else {\n              document.getElementById(`like-${likeItem.id}`).style.display =\n                \"block\";\n              document.getElementById(`like-${likeItem.id}`).style.fill =\n                \"rgb(255, 128, 191)\";\n              document.getElementById(`like-${likeItem.id}`).style[\n                \"fill-opacity\"\n              ] = 1;\n            }\n          });\n        }\n      });\n  };\n\n  loadOptions = async (inputValue) => {\n    inputValue = inputValue.toLowerCase().replace(/\\W/g, \"\");\n    return new Promise((resolve) => {\n      db.collection(\"country\")\n        .doc(this.props.match.params.tags)\n        .collection(\"location\")\n        .orderBy(\"plainName\")\n        .startAt(inputValue)\n        .endAt(inputValue + \"\\uf8ff\")\n        .get()\n        .then((docs) => {\n          if (!docs.empty) {\n            let recommendedTags = [];\n            docs.forEach(function (doc) {\n              const tag = {\n                value: doc.id,\n                label: doc.data().tagName,\n              };\n              recommendedTags.push(tag);\n            });\n            return resolve(recommendedTags);\n          } else {\n            return resolve([]);\n          }\n        });\n    });\n  };\n\n  handleOnChange = (tags) => {\n    this.state.locationDetail.map((item, i) => {\n      if (tags.value === item.name) {\n        let locationArrayTemp = [...this.state.locationArrayT];\n        let showId = nanoid();\n        locationArrayTemp.splice(\n          Math.floor(i / 3) * 3 + 3,\n          0,\n          <div\n            key={showId}\n            id=\"show\"\n            // onClick={event => props.markerClickHandler(event, item)}\n            className={styles.itemSelect}\n          >\n            <img src={item.photo} className={styles.itemSelectPhoto}></img>\n            <div className={styles.selectDetail}>\n              <div className={styles.itemName}>{item.name}</div>\n              <div>{item.address}</div>\n              <div>{item.telephone}</div>\n              <div>{item.star_level}</div>\n            </div>\n          </div>\n        );\n\n        this.setState({\n          selectedPlace: item,\n          locationArray: locationArrayTemp,\n        });\n      }\n    });\n    if (this.state.infoOpen) {\n      this.setState({\n        infoOpen: false,\n      });\n    }\n    this.setState({\n      infoOpen: true,\n    });\n    if (this.state.zoom < 13) {\n      this.setState({\n        zoom: 13,\n      });\n    }\n    window.setTimeout(\n      () =>\n        document.getElementById(\"show\").scrollIntoView({\n          behavior: \"smooth\",\n          block: \"center\",\n          inline: \"center\",\n        }),\n      10\n    );\n  };\n\n  markerClickHandler = (event, place, n) => {\n    if (event !== \"path\") {\n      let locationArrayTemp = [...this.state.locationArrayT];\n      let showId = nanoid();\n      locationArrayTemp.splice(\n        n * 3 + 3,\n        0,\n        <div\n          key={showId}\n          id=\"show\"\n          // onClick={event => props.markerClickHandler(event, item)}\n          className={styles.itemSelect}\n        >\n          <img src={place.photo} className={styles.itemSelectPhoto}></img>\n          <div className={styles.selectDetail}>\n            <div className={styles.itemName}>{place.name}</div>\n            <div>{place.address}</div>\n            <div>{place.telephone}</div>\n            <div>{place.star_level}</div>\n          </div>\n        </div>\n      );\n\n      // Remember which place was clicked\n      this.setState({\n        selectedPlace: place,\n        locationArray: locationArrayTemp,\n        // center: place.pos\n      });\n      // Required so clicking a 2nd marker works as expected\n      if (this.state.infoOpen) {\n        this.setState({\n          infoOpen: false,\n        });\n      }\n      this.setState({\n        infoOpen: true,\n      });\n      // zoom in a little on marker click\n      if (this.state.zoom < 13) {\n        this.setState({\n          zoom: 13,\n        });\n      }\n\n      window.setTimeout(\n        () =>\n          document.getElementById(\"show\").scrollIntoView({\n            behavior: \"smooth\",\n            block: \"center\",\n            inline: \"center\",\n          }),\n        10\n      );\n    } else {\n      return;\n    }\n  };\n\n  setInfoOpen = (state) => {\n    this.setState({\n      infoOpen: state,\n    });\n  };\n\n  handleLike = (likeItem) => {\n    let likeAllArr = [...this.state.likeList];\n    let obj = {\n      country: likeItem.country,\n      name: likeItem.name,\n      id: likeItem.id,\n      pos: { lat: likeItem.latitude, lng: likeItem.longitude },\n    };\n\n    if (likeAllArr.length === 0) {\n      document.getElementById(`like-${likeItem.id}`).style.fill =\n        \"rgb(255, 128, 191)\";\n      document.getElementById(`like-${likeItem.id}`).style[\"fill-opacity\"] = 1;\n      likeAllArr.push(obj);\n\n      db.collection(\"schedule\").doc(\"userId\").set(\n        {\n          like: likeAllArr,\n        },\n        { merge: true }\n      );\n    } else {\n      if (likeAllArr.find((item) => item.id === likeItem.id)) {\n        document.getElementById(`like-${likeItem.id}`).style.fill =\n          \"rgb(255, 255, 255)\";\n        document.getElementById(`like-${likeItem.id}`).style[\n          \"fill-opacity\"\n        ] = 0.3;\n        let removeLikeAllArr = likeAllArr.filter(function (i) {\n          return i.id !== likeItem.id;\n        });\n        db.collection(\"schedule\").doc(\"userId\").set(\n          {\n            like: removeLikeAllArr,\n          },\n          { merge: true }\n        );\n      } else {\n        document.getElementById(`like-${likeItem.id}`).style.fill =\n          \"rgb(255, 128, 191)\";\n        document.getElementById(`like-${likeItem.id}`).style[\n          \"fill-opacity\"\n        ] = 1;\n        likeAllArr.push(obj);\n\n        db.collection(\"schedule\").doc(\"userId\").set(\n          {\n            like: likeAllArr,\n          },\n          { merge: true }\n        );\n      }\n    }\n  };\n\n  render() {\n    return (\n      <div className={styles.locationAll}>\n        <div className={styles.left}>\n          <div className={styles.navBar}>\n            <div\n              className={styles.icon1}\n              id=\"icon1\"\n              onClick={() => {\n                let el = document.querySelector(\"#icon1\");\n                el.classList.toggle(styles.open);\n              }}\n            >\n              <span></span>\n              <span></span>\n              <span></span>\n            </div>\n          </div>\n          <div className={styles.navBarList}>\n            <Link to=\"/\">Home</Link>\n            <Link to=\"/schedule\">行程規劃</Link>\n            <Link to=\"/member\">會員登入</Link>\n          </div>\n          <div className={styles.title}>挑選景點</div>\n          <AsyncSelect\n            className={styles.locationInput}\n            loadOptions={this.loadOptions}\n            onChange={this.handleOnChange}\n          />\n\n          <Show\n            locationArray={this.state.locationArray}\n            locationBanner={this.state.locationBanner}\n          />\n        </div>\n        <div className={styles.right}>\n          <SimpleMap\n            locationDetail={this.state.locationDetail}\n            locationBanner={this.state.locationBanner}\n            center={this.state.center}\n            zoom={this.state.zoom}\n            selectedPlace={this.state.selectedPlace}\n            infoOpen={this.state.infoOpen}\n            markerClickHandler={this.markerClickHandler}\n            setInfoOpen={this.setInfoOpen}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nLocationDetail.propTypes = {\n  match: PropTypes.object.isRequired,\n};\n\nexport default LocationDetail;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport firebase from \"../firebase\";\n// import styles from \"../scss/location.module.scss\";\nimport \"react-dates/initialize\";\nimport { DateRangePicker } from \"react-dates\";\nimport \"react-dates/lib/css/_datepicker.css\";\nimport moment from \"moment\";\n// import { nanoid } from \"nanoid\";\n\nconst db = firebase.firestore();\n\nclass AddSchedule extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: \"\",\n      focusedInput: \"\",\n      startDate: \"\",\n      endDate: \"\",\n      startDateStamp: null,\n      endDateStamp: null,\n      date: \"\",\n      startDateSubmit: \"\",\n      endDateSubmit: \"\",\n      totalDay: \"\",\n      size: null,\n      dateBlock: [],\n    };\n  }\n  componentDidMount() {\n    db.collection(\"schedule\")\n      .doc(\"userId\")\n      .collection(\"data\")\n      .get()\n      .then((snap) => {\n        this.setState({\n          size: snap.size,\n        });\n      });\n  }\n\n  handleChange = (event) => {\n    this.setState({ value: event.target.value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    db.collection(\"schedule\")\n      .doc(\"userId\")\n      .collection(\"data\")\n      .doc(\"travel\" + this.state.size)\n      .set({\n        CoverImgUrl:\n          \"http://img01.jituwang.com/171115/256774-1G11521320727.jpg\",\n        EndDate: this.state.endDateSubmit,\n        EndDateStamp: this.state.endDateStamp,\n        ImMultiEditMember: false,\n        ShareLink: \"\",\n        StartDate: this.state.startDateSubmit,\n        StartDateStamp: this.state.startDateStamp,\n        TotalDay: this.state.totalDay,\n        TravelScheduleDetailInfos: [],\n        TravelScheduleName: this.state.value,\n        comment: \"\",\n        id: this.state.size,\n        dateBlock: this.state.dateBlock,\n      });\n    for (let i = 0; i < this.state.totalDay; i++) {\n      db.collection(\"schedule\")\n        .doc(\"userId\")\n        .collection(\"data\")\n        .doc(\"travel\" + this.state.size)\n        .collection(\"dateBlockDetail\")\n        .doc(this.state.dateBlock[i])\n        .set({\n          id: i,\n          name: this.state.dateBlock[i],\n          morning: [],\n          afternoon: [],\n          night: [],\n        });\n    }\n\n    alert(\n      \"Submitted: \" +\n        this.state.startDateSubmit +\n        \"~\" +\n        this.state.endDateSubmit\n    );\n    this.setState({ value: \"\" });\n    // this.props.history.push(`/editSchedule`);\n  };\n\n  onDatesChange = ({ startDate, endDate }) => {\n    let startDateTemp = moment(startDate).format(\"MM/DD/YYYY\");\n    let endDateTemp = moment(endDate).format(\"MM/DD/YYYY\");\n    let throughTime = moment(endDateTemp) - moment(startDateTemp);\n    let days = Math.floor(throughTime / (24 * 3600 * 1000)) + 1;\n    let startDateStamp = moment(startDate).valueOf();\n    let endDateStamp = moment(endDate).valueOf();\n    const dateTemp = [];\n    for (let i = startDateStamp; i < endDateStamp + 1; i += 86400000) {\n      dateTemp.push(moment(i).format(\"MM-DD-YYYY\"));\n    }\n\n    this.setState({\n      startDate,\n      startDateStamp,\n      endDate,\n      endDateStamp,\n      startDateSubmit: startDateTemp,\n      endDateSubmit: endDateTemp,\n      totalDay: days,\n      dateBlock: dateTemp,\n    });\n  };\n\n  onFocusChange = (focusedInput) => {\n    this.setState({ focusedInput });\n  };\n  handleDate = (e) => {\n    this.setState({ date: e });\n  };\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <label>\n          <div>\n            enter trip name:\n            <input\n              type=\"text\"\n              value={this.state.value}\n              onChange={this.handleChange}\n            />\n          </div>\n          <div>\n            <DateRangePicker\n              onDatesChange={this.onDatesChange}\n              onFocusChange={this.onFocusChange}\n              focusedInput={this.state.focusedInput}\n              startDate={this.state.startDate}\n              endDate={this.state.endDate}\n              onChange={this.handleDate}\n              value={this.state.date}\n            />\n          </div>\n          <div>{this.state.date}</div>\n        </label>\n        <input type=\"submit\" value=\"Submit\" />\n      </form>\n    );\n  }\n}\n\nAddSchedule.propTypes = {\n  history: PropTypes.object.isRequired,\n};\n\nexport default AddSchedule;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport firebase from \"../firebase\";\nimport AsyncSelect from \"react-select/async\";\nimport styles from \"../scss/schedule.module.scss\";\nimport { Draggable } from \"react-beautiful-dnd\";\n\nconst db = firebase.firestore();\n\nclass FindLocation extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      value: \"\",\n      countryId: \"\",\n      locationDetail: [],\n      locationArray: [],\n      locationArrayT: [],\n      likeList: [],\n    };\n  }\n\n  componentDidMount() {\n    db.collection(\"schedule\")\n      .doc(\"userId\")\n      .onSnapshot((doc) => {\n        if (doc.data()[\"like\"] === undefined) {\n          db.collection(\"schedule\").doc(\"userId\").set(\n            {\n              like: [],\n            },\n            { merge: true }\n          );\n        } else {\n          this.setState({ likeList: doc.data()[\"like\"] });\n          if (this.state.value !== \"\") {\n            doc.data()[\"like\"].forEach((likeItem) => {\n              if (\n                document.getElementById(`likeSearch-${likeItem.id}`) === null\n              ) {\n                return;\n              } else {\n                document.getElementById(\n                  `likeSearch-${likeItem.id}`\n                ).style.display = \"block\";\n              }\n            });\n          }\n        }\n      });\n  }\n\n  loadOptionsCountry = async (inputValue) => {\n    return new Promise((resolve) => {\n      db.collection(\"indexCountry\")\n        .orderBy(\"name\")\n        .startAt(inputValue)\n        .endAt(inputValue + \"\\uf8ff\")\n        .get()\n        .then((docs) => {\n          if (!docs.empty) {\n            let recommendedTags = [];\n            docs.forEach((doc) => {\n              const tag = {\n                value: { lat: doc.data().latitude, lng: doc.data().longitude },\n                label: doc.data().name,\n              };\n              recommendedTags.push(tag);\n              this.setState({\n                value: doc.data().name,\n              });\n            });\n\n            return resolve(recommendedTags);\n          } else {\n            return resolve([]);\n          }\n        });\n    });\n  };\n\n  loadOptions = async (inputValue) => {\n    return new Promise((resolve) => {\n      db.collection(\"country\")\n        .doc(this.state.value)\n        .collection(\"location\")\n        .orderBy(\"name\")\n        .startAt(inputValue)\n        .endAt(inputValue + \"\\uf8ff\")\n        .get()\n        .then((docs) => {\n          if (!docs.empty) {\n            let recommendedTags = [];\n            docs.forEach((doc) => {\n              const tag = {\n                value: doc.id,\n                label: doc.data().name,\n              };\n              recommendedTags.push(tag);\n              this.setState({\n                countryId: doc.data().id,\n              });\n            });\n            return resolve(recommendedTags);\n          } else {\n            return resolve([]);\n          }\n        });\n    });\n  };\n\n  handleOnChangeCountry = () => {\n    this.props.getCountry(this.state.value);\n    db.collection(\"country\")\n      .doc(this.state.value)\n      .collection(\"location\")\n      .get()\n      .then((doc) => {\n        let locationDetailTemp = [];\n        doc.forEach(function (doc) {\n          locationDetailTemp.push({\n            name: doc.data().name,\n            country: doc.data().Country,\n            city: doc.data().City,\n            area: doc.data().Area,\n            photo: doc.data().PointImgUrl,\n            pos: {\n              lat: parseFloat(doc.data().latitude, 10),\n              lng: parseFloat(doc.data().longitude, 10),\n            },\n            latitude: parseFloat(doc.data().latitude, 10),\n            longitude: parseFloat(doc.data().longitude, 10),\n            address: doc.data().address,\n            open_time: doc.data().open_time,\n            telephone: doc.data().telephone,\n            star_level: doc.data().star_level,\n            travelPoint: doc.data().TravelPoint_Be_Added_Count,\n            url: doc.data().url,\n            id: parseInt(doc.data().id),\n          });\n        });\n        let locationArrayTemp = locationDetailTemp.map((item) => {\n          return (\n            <Draggable\n              draggableId={`id-${item.id}`}\n              index={item.id}\n              key={item.id}\n            >\n              {(provided) => (\n                <div\n                  id={item.id}\n                  className={styles.item}\n                  {...provided.draggableProps}\n                  {...provided.dragHandleProps}\n                  ref={provided.innerRef}\n                  onMouseOver={() => {\n                    document.getElementById(\n                      `likeSearch-${item.id}`\n                    ).style.display = \"block\";\n                    if (this.state.likeList.find((i) => i.id === item.id)) {\n                      document.getElementById(\n                        `likeSearch-${item.id}`\n                      ).style.fill = \"rgb(255, 128, 191)\";\n                      document.getElementById(`likeSearch-${item.id}`).style[\n                        \"fill-opacity\"\n                      ] = 1;\n                    } else {\n                      document.getElementById(\n                        `likeSearch-${item.id}`\n                      ).style.fill = \"rgb(255, 255, 255)\";\n                      document.getElementById(`likeSearch-${item.id}`).style[\n                        \"fill-opacity\"\n                      ] = 0.3;\n                    }\n                  }}\n                  onMouseLeave={() => {\n                    if (this.state.likeList.find((i) => i.id === item.id)) {\n                      return;\n                    } else {\n                      document.getElementById(\n                        `likeSearch-${item.id}`\n                      ).style.display = \"none\";\n                    }\n                  }}\n                >\n                  <div\n                    id={`likeSearch-${item.id}`}\n                    className={styles.searchLike}\n                    onClick={() => this.handleLike(item)}\n                  >\n                    <svg\n                      id=\"icon-heart\"\n                      viewBox=\"0 0 32 32\"\n                      width=\"30\"\n                      height=\"20\"\n                    >\n                      <title>heart</title>\n                      <path d=\"M29.306 4.768c-1.662-1.66-3.958-2.687-6.493-2.687s-4.831 1.027-6.493 2.687l-0.32 0.32-0.32-0.32c-1.662-1.664-3.96-2.694-6.498-2.694-5.072 0-9.183 4.112-9.183 9.183 0 2.534 1.026 4.828 2.686 6.49l11.363 11.373c0.499 0.496 1.187 0.803 1.947 0.803s1.448-0.307 1.947-0.803l11.353-11.36c1.671-1.66 2.705-3.96 2.705-6.501 0-2.536-1.030-4.832-2.695-6.491l-0-0z\"></path>\n                    </svg>\n                  </div>\n                  <img src={item.photo} className={styles.itemPhoto}></img>\n                  <div className={styles.itemName}>{item.name}</div>\n                  <div>{item.star_level}</div>\n                </div>\n              )}\n            </Draggable>\n          );\n        });\n\n        this.setState({\n          locationDetail: locationDetailTemp,\n          locationArray: locationArrayTemp,\n        });\n      });\n\n    // if (this.state.value !== \"\") {\n    //   window.setTimeout(\n    //     () =>\n    //       this.state.likeList.forEach(likeItem => {\n    //         if (document.getElementById(`likeSearch-${likeItem.id}`) === null) {\n    //           return;\n    //         } else {\n    //           document.getElementById(\n    //             `likeSearch-${likeItem.id}`\n    //           ).style.display = \"block\";\n    //         }\n    //       }),\n    //     300\n    //   );\n    // }\n  };\n\n  componentDidUpdate(prevState) {\n    if (\n      this.state.likeList !== prevState.likeList &&\n      this.state.likeList.length !== 0 &&\n      this.state.value !== \"\"\n    ) {\n      this.state.locationDetail.map((item) => {\n        if (this.state.likeList.find((i) => i.id === item.id)) {\n          document.getElementById(`likeSearch-${item.id}`).style.fill =\n            \"rgb(255, 128, 191)\";\n          document.getElementById(`likeSearch-${item.id}`).style[\n            \"fill-opacity\"\n          ] = 1;\n        } else {\n          document.getElementById(`likeSearch-${item.id}`).style.display =\n            \"none\";\n        }\n      });\n    }\n  }\n\n  handleOnChange(id) {\n    document.getElementById(id).scrollIntoView({\n      behavior: \"smooth\",\n      block: \"start\",\n      inline: \"nearest\",\n    });\n  }\n\n  handleLike = (item) => {\n    let obj = {\n      country: item.country,\n      name: item.name,\n      id: item.id,\n      pos: {\n        lat: item.latitude,\n        lng: item.longitude,\n      },\n    };\n    let likeArr = [...this.state.likeList];\n\n    if (this.state.likeList.find((i) => i.id === item.id)) {\n      document.getElementById(`likeSearch-${item.id}`).style.fill =\n        \"rgb(255, 255, 255)\";\n      document.getElementById(`likeSearch-${item.id}`).style[\n        \"fill-opacity\"\n      ] = 0.3;\n      let likeArrFilter = [...this.state.likeList];\n      likeArr = likeArrFilter.filter((i) => i.id !== item.id);\n    } else {\n      document.getElementById(`likeSearch-${item.id}`).style.fill =\n        \"rgb(255, 128, 191)\";\n      document.getElementById(`likeSearch-${item.id}`).style[\n        \"fill-opacity\"\n      ] = 1;\n      likeArr.push(obj);\n    }\n\n    this.setState({\n      likeList: likeArr,\n    });\n    db.collection(\"schedule\").doc(\"userId\").set(\n      {\n        like: likeArr,\n      },\n      { merge: true }\n    );\n  };\n\n  render() {\n    return (\n      <div className={styles.locationAll}>\n        <div className={styles.searchAll}>\n          <div>\n            <div className={styles.title}>挑選國家</div>\n            <AsyncSelect\n              className={styles.locationInput}\n              loadOptions={this.loadOptionsCountry}\n              onChange={this.handleOnChangeCountry}\n            />\n          </div>\n          <div>\n            <div className={styles.title}>挑選景點</div>\n            <AsyncSelect\n              className={styles.locationInput}\n              loadOptions={this.loadOptions}\n              onChange={() => this.handleOnChange(this.state.countryId)}\n            />\n          </div>\n        </div>\n\n        <div className={styles.locationList}>{this.state.locationArray}</div>\n      </div>\n    );\n  }\n}\n\nFindLocation.propTypes = {\n  getCountry: PropTypes.func,\n};\n\nexport default FindLocation;\n","import React from \"react\";\nimport firebase from \"../firebase\";\nimport styles from \"../scss/schedule.module.scss\";\nimport { Draggable } from \"react-beautiful-dnd\";\n\nconst db = firebase.firestore();\n\nclass LikeLocation extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      locationDetail: [],\n      locationLikeDetail: [],\n    };\n  }\n\n  componentDidMount() {\n    let elsLike = document.getElementsByClassName(\"likeLocationShow\");\n    Array.from(elsLike).forEach((el) => {\n      el.style.display = \"none\";\n    });\n\n    db.collection(\"schedule\")\n      .doc(\"userId\")\n      .onSnapshot((docAll) => {\n        this.setState({\n          locationDetail: docAll.data().like,\n        });\n        let locationLikeDetailTemp = [];\n        docAll.data().like.map((item) => {\n          db.collection(\"country\")\n            .doc(item.country)\n            .collection(\"location\")\n            .where(\"id\", \"==\", item.id.toString())\n            .get()\n            .then((docs) => {\n              docs.forEach((doc) => {\n                locationLikeDetailTemp.push({\n                  name: doc.data().name,\n                  country: doc.data().Country,\n                  city: doc.data().City,\n                  area: doc.data().Area,\n                  photo: doc.data().PointImgUrl,\n                  pos: {\n                    lat: parseFloat(doc.data().latitude, 10),\n                    lng: parseFloat(doc.data().longitude, 10),\n                  },\n                  address: doc.data().address,\n                  open_time: doc.data().open_time,\n                  telephone: doc.data().telephone,\n                  star_level: doc.data().star_level,\n                  travelPoint: doc.data().TravelPoint_Be_Added_Count,\n                  url: doc.data().url,\n                  id: parseInt(doc.data().id),\n                });\n\n                this.setState({\n                  locationLikeDetail: locationLikeDetailTemp,\n                });\n              });\n            });\n        });\n      });\n  }\n\n  handleLike = (item) => {\n    let arr = this.state.locationLikeDetail.filter(\n      (like) => like.id !== item.id\n    );\n    let setArr = this.state.locationDetail.filter(\n      (like) => like.id !== item.id\n    );\n    this.setState({\n      locationLikeDetail: arr,\n    });\n    console.log(setArr);\n    db.collection(\"schedule\").doc(\"userId\").set(\n      {\n        like: setArr,\n      },\n      { merge: true }\n    );\n  };\n\n  render() {\n    return (\n      <div className={styles.likeList}>\n        {this.state.locationLikeDetail.map((item, i) => {\n          return (\n            <Draggable draggableId={`Ld-${item.id}`} index={i} key={i}>\n              {(provided) => (\n                <div\n                  id={item.id * 10}\n                  className={styles.item}\n                  {...provided.draggableProps}\n                  {...provided.dragHandleProps}\n                  ref={provided.innerRef}\n                >\n                  <div\n                    id={`like-${item.id}`}\n                    className={styles.itemLike}\n                    onClick={() => this.handleLike(item)}\n                  >\n                    <svg\n                      id=\"icon-heart\"\n                      viewBox=\"0 0 32 32\"\n                      width=\"30\"\n                      height=\"20\"\n                    >\n                      <title>heart</title>\n                      <path d=\"M29.306 4.768c-1.662-1.66-3.958-2.687-6.493-2.687s-4.831 1.027-6.493 2.687l-0.32 0.32-0.32-0.32c-1.662-1.664-3.96-2.694-6.498-2.694-5.072 0-9.183 4.112-9.183 9.183 0 2.534 1.026 4.828 2.686 6.49l11.363 11.373c0.499 0.496 1.187 0.803 1.947 0.803s1.448-0.307 1.947-0.803l11.353-11.36c1.671-1.66 2.705-3.96 2.705-6.501 0-2.536-1.030-4.832-2.695-6.491l-0-0z\"></path>\n                    </svg>\n                  </div>\n                  <img src={item.photo} className={styles.itemPhoto}></img>\n                  <div className={styles.itemName}>{item.name}</div>\n                  <div>{item.star_level}</div>\n                </div>\n              )}\n            </Draggable>\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nexport default LikeLocation;\n","import React from \"react\";\nimport styles from \"../scss/schedule.module.scss\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faCar,\n  faWalking,\n  faSubway,\n  faBicycle,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport Select from \"react-select\";\nimport PropTypes from \"prop-types\";\n\nconst filterFiedsOptions = [\n  {\n    value: \"DRIVING\",\n    label: <FontAwesomeIcon icon={faCar} title={\"DRIVING\"} />,\n  },\n  {\n    value: \"WALKING\",\n    label: <FontAwesomeIcon icon={faWalking} title={\"WALKING\"} />,\n  },\n  {\n    value: \"TRANSIT\",\n    label: <FontAwesomeIcon icon={faSubway} title={\"TRANSIT\"} />,\n  },\n  {\n    value: \"BICYCLING\",\n    label: <FontAwesomeIcon icon={faBicycle} title={\"BICYCLING\"} />,\n  },\n];\n\nclass TrafficSchedule extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedFilter: \"\",\n    };\n  }\n  filterSelectedData = function (data) {\n    let obj = Object.assign({}, this.props.trafficDetail);\n    obj[this.props.date][this.props.num].travelMode = data.value;\n    this.props.handleTraffic(obj);\n    console.log(obj);\n    this.setState({\n      selectedFilter: data,\n    });\n  };\n  render() {\n    console.log(this.props.traffic);\n    return (\n      this.props.traffic[this.props.date][this.props.num] !== undefined && (\n        <div>\n          {\n            this.props.traffic[this.props.date][this.props.num].routes[0]\n              .legs[0].distance.text\n          }\n          <br />\n          <div className={styles.itemTraffic}>\n            <Select\n              value={this.state.selectedFilter}\n              onChange={(e) => this.filterSelectedData(e)}\n              options={filterFiedsOptions}\n              placeholder={<FontAwesomeIcon icon={faCar} title={\"DRIVING\"} />}\n              className={styles.itemSelect}\n            />\n            {\n              this.props.traffic[this.props.date][this.props.num].routes[0]\n                .legs[0].duration.text\n            }\n          </div>\n        </div>\n      )\n    );\n  }\n}\n\nTrafficSchedule.propTypes = {\n  traffic: PropTypes.object,\n  date: PropTypes.string,\n  num: PropTypes.number,\n  handleTraffic: PropTypes.func,\n  trafficDetail: PropTypes.object,\n};\n\nexport default TrafficSchedule;\n","import React from \"react\";\nimport styles from \"../scss/schedule.module.scss\";\nimport TrafficSchedule from \"./TrafficSchedule\";\nimport firebase from \"../firebase\";\nimport PropTypes from \"prop-types\";\nimport { Draggable } from \"react-beautiful-dnd\";\n\nconst db = firebase.firestore();\n\nclass DragListSchedule extends React.Component {\n  deleteLocation = (i) => {\n    let travelMorningTemp = [];\n    let travelAll = [];\n\n    travelMorningTemp = Array.from(\n      this.props.travelDetailCountry[this.props.date]\n    );\n    travelMorningTemp.splice(i, 1);\n    travelMorningTemp.forEach((item) => {\n      let travelSet = {};\n      // console.log(item);\n      travelSet[\"country\"] = item.Country;\n      travelSet[\"name\"] = item.name;\n      travelSet[\"id\"] = item.id;\n      travelSet[\"pos\"] = {\n        lat: parseFloat(item.latitude),\n        lng: parseFloat(item.longitude),\n      };\n      travelAll.push(travelSet);\n    });\n\n    db.collection(\"schedule\")\n      .doc(\"userId\")\n      .collection(\"data\")\n      .doc(`travel${window.location.pathname.substring(23)}`)\n      .collection(\"dateBlockDetail\")\n      .doc(this.props.date)\n      .set({\n        morning: travelAll,\n        name: this.props.date,\n      });\n  };\n\n  // componentDidUpdate(prevProps) {\n  //   if (prevProps.traffic !== this.props.traffic) {\n  //     console.log(123);\n  //     this.handleNewTraffic;\n  //     console.log(\"this.props.traffic\", this.props.traffic);\n  //   }\n  // }\n  render() {\n    console.log(\n      \"this.props.traffic[this.props.item]\",\n      this.props.traffic[this.props.item]\n    );\n    return (\n      <div>\n        {this.props.travelDetailCountry[this.props.item] === undefined && (\n          <div className={styles.emptyList}>Drop Here!</div>\n        )}\n        {this.props.travelDetailCountry[this.props.item] &&\n          this.props.traffic[this.props.item] !== undefined &&\n          this.props.travelDetailCountry[this.props.item].map((item, i) => {\n            return (\n              <div key={item.id}>\n                <Draggable draggableId={`Id-${item.id}`} index={i}>\n                  {(provided) => (\n                    <div\n                      {...provided.draggableProps}\n                      {...provided.dragHandleProps}\n                      ref={provided.innerRef}\n                      className={styles.itemList}\n                      onMouseOver={() =>\n                        (document.getElementById(\n                          `delete-${item.id}`\n                        ).style.display = \"block\")\n                      }\n                      onMouseLeave={() =>\n                        (document.getElementById(\n                          `delete-${item.id}`\n                        ).style.display = \"none\")\n                      }\n                      onClick={() => {\n                        this.props.setInfoOpen(true);\n                        this.props.setSelectedPlace(item);\n                      }}\n                    >\n                      <div\n                        className={styles.itemListDelete}\n                        id={`delete-${item.id}`}\n                        onClick={() => {\n                          this.deleteLocation(i);\n                        }}\n                      >\n                        x\n                      </div>\n                      <img\n                        src={item.PointImgUrl}\n                        className={styles.itemPhoto}\n                      ></img>\n                      <div className={styles.itemName}>{item.name}</div>\n                      <div>{item.star_level}</div>\n                    </div>\n                  )}\n                </Draggable>\n\n                {i < this.props.traffic[this.props.item].length &&\n                  this.props.traffic[this.props.item] !== undefined && (\n                    <TrafficSchedule\n                      traffic={this.props.traffic}\n                      date={this.props.item}\n                      num={i}\n                      handleTraffic={this.props.handleTraffic}\n                      trafficDetail={this.props.trafficDetail}\n                    />\n                  )}\n              </div>\n            );\n          })}\n      </div>\n    );\n  }\n}\n\nDragListSchedule.propTypes = {\n  item: PropTypes.string,\n  travelDetailCountry: PropTypes.object,\n  date: PropTypes.string,\n  setInfoOpen: PropTypes.func,\n  setSelectedPlace: PropTypes.func,\n  traffic: PropTypes.object,\n  handleTraffic: PropTypes.func,\n  trafficDetail: PropTypes.object,\n};\n\nexport default DragListSchedule;\n","import React from \"react\";\nimport firebase from \"../firebase\";\nimport styles from \"../scss/schedule.module.scss\";\nimport FindLocation from \"./FindLocation\";\nimport LikeLocation from \"./LikeLocation\";\nimport DragListSchedule from \"./DragListSchedule\";\nimport PropTypes from \"prop-types\";\nimport { Droppable } from \"react-beautiful-dnd\";\n\nconst db = firebase.firestore();\n\nclass DropSchedule extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      travelDateDetail: [],\n      travelDetailCountry: {},\n    };\n  }\n\n  componentDidMount() {\n    let travelShowId = window.location.pathname.substring(23);\n\n    let travelDateDetailTemp = [];\n\n    db.collection(\"schedule\")\n      .doc(\"userId\")\n      .collection(\"data\")\n      .doc(`travel${travelShowId}`)\n      .collection(\"dateBlockDetail\")\n      .onSnapshot((querySnapshot) => {\n        travelDateDetailTemp = [];\n        querySnapshot.forEach((doc) => {\n          travelDateDetailTemp.push(doc.data());\n        });\n        this.setState({ travelDateDetail: travelDateDetailTemp });\n\n        let travelDetailCountryTemp = {};\n\n        travelDateDetailTemp.forEach((dates) => {\n          let arr = [];\n\n          if (dates.morning.length !== 0) {\n            dates.morning.forEach((date, index) => {\n              if (dates.morning.length !== 0) {\n                db.collection(\"country\")\n                  .doc(date.country)\n                  .collection(\"location\")\n                  .where(\"id\", \"==\", date.id)\n                  .get()\n                  .then((docs) => {\n                    docs.forEach((doc) => {\n                      arr[index] = doc.data();\n                    });\n                    travelDetailCountryTemp[dates.name] = arr;\n\n                    this.setState({\n                      travelDetailCountry: travelDetailCountryTemp,\n                    });\n                  });\n              }\n            });\n          } else {\n            this.setState({\n              travelDetailCountry: {},\n            });\n          }\n        });\n      });\n  }\n\n  render() {\n    // console.log(this.state.travelDetailCountry);\n    //把這個state往上拉到editSchedule.js再set\n    return (\n      <div className={styles.scheduleDateAll}>\n        {this.state.travelDateDetail.map((item, i) => (\n          <Droppable droppableId={`drop-${item.name}`} key={i}>\n            {(provided) => (\n              <div>\n                <div className={styles.scheduleDateOnly}>{item.name}</div>\n                <div\n                  className={styles.scheduleDetail}\n                  ref={provided.innerRef}\n                  {...provided.droppableProps}\n                >\n                  <DragListSchedule\n                    item={item.name}\n                    date={item.name}\n                    travelDetailCountry={this.state.travelDetailCountry}\n                    setInfoOpen={this.props.setInfoOpen}\n                    selectedPlace={this.props.selectedPlace}\n                    setSelectedPlace={this.props.setSelectedPlace}\n                    traffic={this.props.traffic}\n                    handleTraffic={this.props.handleTraffic}\n                    trafficDetail={this.props.trafficDetail}\n                  />\n\n                  {provided.placeholder}\n                </div>\n\n                {i == this.state.travelDateDetail.length - 1 && (\n                  <div className=\"findLocationShow\">\n                    <FindLocation getCountry={this.props.getCountry} />\n                  </div>\n                )}\n\n                {i == this.state.travelDateDetail.length - 1 && (\n                  <div className=\"likeLocationShow\">\n                    <LikeLocation />\n                  </div>\n                )}\n              </div>\n            )}\n          </Droppable>\n        ))}\n      </div>\n    );\n  }\n}\n\nDropSchedule.propTypes = {\n  getCountry: PropTypes.func,\n  setInfoOpen: PropTypes.func,\n  selectedPlace: PropTypes.object,\n  setSelectedPlace: PropTypes.func,\n  traffic: PropTypes.object,\n  handleTraffic: PropTypes.func,\n  trafficDetail: PropTypes.object,\n};\n\nexport default DropSchedule;\n","import React, { useState, useEffect } from \"react\";\nimport styles from \"../scss/schedule.module.scss\";\nimport firebase from \"../firebase\";\nimport config from \"../config\";\nimport {\n  GoogleMap,\n  DirectionsRenderer,\n  Marker,\n  InfoWindow,\n  withScriptjs,\n  withGoogleMap,\n} from \"react-google-maps\";\nimport { compose, withProps, lifecycle } from \"recompose\";\nconst {\n  MarkerWithLabel,\n} = require(\"react-google-maps/lib/components/addons/MarkerWithLabel\");\nconst db = firebase.firestore();\n\nconst SimpleMap = compose(\n  withProps({\n    googleMapURL: `https://maps.googleapis.com/maps/api/js?key=${config.API_KEY}&v=3.exp&libraries=geometry,drawing,places`,\n    loadingElement: <div style={{ height: `100%` }} />,\n    containerElement: <div style={{ height: \"100vh\", width: \"100%\" }} />,\n    mapElement: <div style={{ height: \"100%\" }} />,\n  }),\n  withScriptjs,\n  withGoogleMap,\n  lifecycle({\n    componentDidUpdate(prevProps) {\n      // console.log(\"trafficDetail\", this.props.trafficDetail);\n      let locationObj = {};\n      let arr = [];\n      if (\n        prevProps.travelDataArr !== this.props.travelDataArr ||\n        prevProps.trafficDetail !== this.props.trafficDetail\n      ) {\n        const DirectionsService = new window.google.maps.DirectionsService();\n        console.log(\"this.props.trafficDetail\", this.props.trafficDetail);\n        Object.keys(this.props.trafficDetail).map((item) => {\n          let locationArrTemp = [];\n\n          this.props.trafficDetail[item].forEach((route, index) => {\n            DirectionsService.route(\n              {\n                origin: route.origin,\n                destination: route.destination,\n                travelMode: window.google.maps.TravelMode[route.travelMode],\n              },\n              (result, status) => {\n                if (status === window.google.maps.DirectionsStatus.OK) {\n                  locationArrTemp[index] = result;\n                  location;\n                  console.log(\"locationArrTemp\", locationArrTemp);\n                  locationObj[item] = locationArrTemp;\n                  this.props.showTraffic(locationObj);\n                  arr.push(result);\n                  this.setState({\n                    directions: arr,\n                  });\n                } else {\n                  console.error(`error fetching directions ${result}`);\n                }\n              }\n            );\n          });\n\n          this.props.showTraffic(locationObj);\n        });\n      }\n    },\n  })\n)((props) => {\n  const [center, setCenter] = useState({});\n  // const [locationSpot, setLocationSpot] = useState({});\n  const [colorAll, setColorAll] = useState([]);\n\n  useEffect(() => {\n    props.travelDataArr.forEach((arr) => {\n      if (arr.morning.length !== 0) {\n        db.collection(\"indexCountry\")\n          .doc(arr.morning[0].country)\n          .get()\n          .then((doc) => {\n            let obj = {};\n            obj[\"lat\"] = parseFloat(doc.data().latitude);\n            obj[\"lng\"] = parseFloat(doc.data().longitude);\n\n            setCenter(obj);\n\n            return;\n          });\n      } else {\n        let centerTemp = {\n          lat: 25.049,\n          lng: 121.51557,\n        };\n        setCenter(centerTemp);\n      }\n    });\n\n    let colorArr = [];\n    let n = props.travelDataArr.length;\n    let letters = \"0123456789ABCDEF\".split(\"\");\n\n    for (let j = 0; j < n; j++) {\n      let color = \"#\";\n      for (let i = 0; i < 6; i++) {\n        color += letters[Math.floor(Math.random() * 16)];\n      }\n      colorArr.push(color);\n    }\n\n    setColorAll(colorArr);\n  }, [props.travelDataArr]);\n\n  const renderMap = () => {\n    // console.log(props.directions);\n    return (\n      <GoogleMap defaultZoom={11} center={center}>\n        {props.travelDataArr.map((date, j) => {\n          return date.morning.map((location, i) => {\n            return (\n              <div key={location.id}>\n                <MarkerWithLabel\n                  position={location.pos}\n                  labelAnchor={new window.google.maps.Point(13, 42)}\n                  labelStyle={{\n                    backgroundColor: `${colorAll[j]}`,\n                    borderRadius: \"99em\",\n                    fontSize: \"12px\",\n                    fontWeight: \"bold\",\n                    width: \"25px\",\n                    height: \"25px\",\n                    textAlign: \"center\",\n                    verticalAlign: \"bottom\",\n                  }}\n                  onClick={() => {\n                    props.setSelectedPlaceMarker(location);\n                    props.setInfoOpen(true);\n                  }}\n                >\n                  <div className={styles.markerText}>{i + 1}</div>\n                </MarkerWithLabel>\n\n                <Marker position={location.pos}>\n                  {props.infoOpen &&\n                    props.selectedPlace.pos.lat == location.pos.lat &&\n                    props.selectedPlace.pos.lng == location.pos.lng && (\n                      <InfoWindow onCloseClick={() => props.setInfoOpen(false)}>\n                        <div>\n                          <h3>{props.selectedPlace.name}</h3>\n                        </div>\n                      </InfoWindow>\n                    )}\n                </Marker>\n              </div>\n            );\n          });\n        })}\n        {props.directions &&\n          props.directions.map((item, i) => {\n            return (\n              <DirectionsRenderer\n                directions={item}\n                key={i}\n                defaultOptions={{\n                  suppressMarkers: true,\n                }}\n              />\n            );\n          })}\n      </GoogleMap>\n    );\n  };\n  return renderMap();\n});\n\nexport default SimpleMap;\n\n// polylineOptions: { strokeColor: \"#8b0013\" }\n\n// var polylineOptionsActual = {\n//   strokeColor: '#FF0000',\n//   strokeOpacity: 1.0,\n//   strokeWeight: 10\n//   };\n","import React from \"react\";\nimport firebase from \"../firebase\";\nimport styles from \"../scss/schedule.module.scss\";\nimport PropTypes from \"prop-types\";\nimport DropSchedule from \"./DropSchedule\";\nimport ScheduleMap from \"./ScheduleMap\";\n\nimport { DragDropContext } from \"react-beautiful-dnd\";\n\nconst db = firebase.firestore();\n\nclass EditSchedule extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      travelData: [],\n      travelShowId: null,\n      travelMorning: [],\n      travelMorningAll: {},\n      searchCountry: \"\",\n      searchCountryDetail: {},\n      travelDataArr: [],\n      locationLikeDetail: {},\n      infoOpen: false,\n      selectedPlace: {},\n      traffic: {},\n      trafficDetail: {},\n    };\n  }\n\n  componentDidMount() {\n    let travelShowId = window.location.pathname.substring(23);\n    this.setState({ travelShowId: travelShowId });\n    let travelDataTemp = [];\n\n    db.collection(\"schedule\")\n      .doc(\"userId\")\n      .collection(\"data\")\n      .doc(`travel${travelShowId}`)\n      .onSnapshot((doc) => {\n        travelDataTemp.push(doc.data());\n        this.setState({ travelData: travelDataTemp });\n      });\n\n    db.collection(\"schedule\")\n      .doc(\"userId\")\n      .collection(\"data\")\n      .doc(`travel${travelShowId}`)\n      .collection(\"dateBlockDetail\")\n      .onSnapshot((docs) => {\n        let travelDataArrTemp = [];\n        docs.forEach((doc) => {\n          travelDataArrTemp.push(doc.data());\n        });\n\n        this.setState({\n          travelDataArr: travelDataArrTemp,\n        });\n\n        let locationSpot = {};\n        travelDataArrTemp.forEach((item) => {\n          // console.log(item);\n          let arr = [];\n          if (item.morning.length > 1) {\n            for (let i = 0; i < item.morning.length - 1; i++) {\n              let obj = {};\n\n              obj[\"origin\"] = new window.google.maps.LatLng(\n                item.morning[i].pos.lat,\n                item.morning[i].pos.lng\n              );\n              obj[\"destination\"] = new window.google.maps.LatLng(\n                item.morning[i + 1].pos.lat,\n                item.morning[i + 1].pos.lng\n              );\n              obj[\"travelMode\"] = \"DRIVING\";\n              obj[\"id\"] = i;\n              arr.push(obj);\n            }\n          }\n          locationSpot[item.name] = arr;\n        });\n        this.setState({\n          trafficDetail: locationSpot,\n        });\n        // db.collection(\"schedule\")\n        //   .doc(\"userId\")\n        //   .collection(\"data\")\n        //   .doc(`travel${this.state.travelShowId}`)\n      });\n  }\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.travelDataArr !== this.state.travelDataArr) {\n      let locationSpot = {};\n\n      this.state.travelDataArr.forEach((item) => {\n        // console.log(item);\n        let arr = [];\n        if (item.morning.length > 1) {\n          for (let i = 0; i < item.morning.length - 1; i++) {\n            let obj = {};\n\n            obj[\"origin\"] = new window.google.maps.LatLng(\n              item.morning[i].pos.lat,\n              item.morning[i].pos.lng\n            );\n            obj[\"destination\"] = new window.google.maps.LatLng(\n              item.morning[i + 1].pos.lat,\n              item.morning[i + 1].pos.lng\n            );\n            obj[\"travelMode\"] = \"DRIVING\";\n            obj[\"id\"] = i;\n            arr.push(obj);\n          }\n        }\n        locationSpot[item.name] = arr;\n      });\n      // console.log(locationSpot);\n      this.setState({\n        trafficDetail: locationSpot,\n      });\n    }\n  }\n\n  getCountry = (country) => {\n    this.setState({ searchCountry: country });\n  };\n\n  onDragStart = (result) => {\n    const { draggableId } = result;\n\n    let travelMorningAllTemp = {};\n\n    db.collection(\"schedule\")\n      .doc(\"userId\")\n      .collection(\"data\")\n      .doc(`travel${this.state.travelShowId}`)\n      .collection(\"dateBlockDetail\")\n      .get()\n      .then((docs) => {\n        docs.forEach((doc) => {\n          travelMorningAllTemp[doc.data().name] = doc.data().morning;\n        });\n        this.setState({ travelMorningAll: travelMorningAllTemp });\n        console.log(travelMorningAllTemp);\n      });\n\n    if (draggableId.substr(0, 1) === \"i\") {\n      console.log(result);\n      db.collection(\"country\")\n        .doc(this.state.searchCountry)\n        .collection(\"location\")\n        .get()\n        .then((docs) => {\n          docs.forEach((doc) => {\n            if (doc.data().id === draggableId.substring(3)) {\n              let obj = {\n                country: this.state.searchCountry,\n                name: doc.data().name,\n                id: doc.data().id,\n                pos: {\n                  lat: parseFloat(doc.data().latitude),\n                  lng: parseFloat(doc.data().longitude),\n                },\n              };\n\n              this.setState({\n                searchCountryDetail: obj,\n              });\n            }\n          });\n        });\n    }\n\n    if (draggableId.substr(0, 1) === \"L\") {\n      console.log(result);\n      db.collection(\"schedule\")\n        .doc(\"userId\")\n        .get()\n        .then((docAll) => {\n          let locationLikeDetailTemp = {};\n          docAll.data().like.forEach((location) => {\n            if (location.id.toString() === draggableId.substring(3)) {\n              locationLikeDetailTemp = location;\n              locationLikeDetailTemp.id = location.id.toString();\n              this.setState({\n                locationLikeDetail: locationLikeDetailTemp,\n              });\n              console.log(locationLikeDetailTemp);\n            }\n          });\n        });\n    }\n  };\n\n  onDragEnd = (result) => {\n    const { destination, source, draggableId } = result;\n    if (!destination) {\n      console.log(\"no destination\");\n      return;\n    }\n    if (\n      destination.droppableId === source.droppableId &&\n      destination.index === source.index\n    ) {\n      return;\n    }\n\n    if (draggableId.substr(0, 1) === \"I\") {\n      if (\n        destination.droppableId === source.droppableId &&\n        destination.index !== source.index\n      ) {\n        let travelMorningTemp = [];\n\n        travelMorningTemp = Array.from(\n          this.state.travelMorningAll[source.droppableId.substring(5)]\n        );\n        const [remove] = travelMorningTemp.splice(source.index, 1);\n\n        travelMorningTemp.splice(destination.index, 0, remove);\n        this.setState({ travelMorning: travelMorningTemp });\n\n        db.collection(\"schedule\")\n          .doc(\"userId\")\n          .collection(\"data\")\n          .doc(`travel${this.state.travelShowId}`)\n          .collection(\"dateBlockDetail\")\n          .doc(destination.droppableId.substring(5))\n          .set({\n            morning: travelMorningTemp,\n            name: destination.droppableId.substring(5),\n          });\n      } else {\n        let travelMorningDragTemp = [];\n        let travelMorningDropTemp = [];\n        travelMorningDragTemp = Array.from(\n          this.state.travelMorningAll[source.droppableId.substring(5)]\n        );\n        travelMorningDropTemp = Array.from(\n          this.state.travelMorningAll[destination.droppableId.substring(5)]\n        );\n        const [remove] = travelMorningDragTemp.splice(source.index, 1);\n        travelMorningDropTemp.splice(destination.index, 0, remove);\n\n        db.collection(\"schedule\")\n          .doc(\"userId\")\n          .collection(\"data\")\n          .doc(`travel${this.state.travelShowId}`)\n          .collection(\"dateBlockDetail\")\n          .doc(source.droppableId.substring(5))\n          .set({\n            morning: travelMorningDragTemp,\n            name: source.droppableId.substring(5),\n          });\n\n        db.collection(\"schedule\")\n          .doc(\"userId\")\n          .collection(\"data\")\n          .doc(`travel${this.state.travelShowId}`)\n          .collection(\"dateBlockDetail\")\n          .doc(destination.droppableId.substring(5))\n          .set({\n            morning: travelMorningDropTemp,\n            name: destination.droppableId.substring(5),\n          });\n      }\n    }\n\n    if (draggableId.substr(0, 1) === \"i\" || draggableId.substr(0, 1) === \"L\") {\n      let travelMorningTemp = [];\n\n      travelMorningTemp = Array.from(\n        this.state.travelMorningAll[destination.droppableId.substring(5)]\n      );\n\n      if (draggableId.substr(0, 1) === \"i\") {\n        travelMorningTemp.splice(\n          destination.index,\n          0,\n          this.state.searchCountryDetail\n        );\n      } else {\n        travelMorningTemp.splice(\n          destination.index,\n          0,\n          this.state.locationLikeDetail\n        );\n      }\n\n      this.setState({ travelMorning: travelMorningTemp });\n\n      db.collection(\"schedule\")\n        .doc(\"userId\")\n        .collection(\"data\")\n        .doc(`travel${this.state.travelShowId}`)\n        .collection(\"dateBlockDetail\")\n        .doc(destination.droppableId.substring(5))\n        .set({\n          morning: travelMorningTemp,\n          name: destination.droppableId.substring(5),\n        });\n    }\n  };\n\n  handleLocationShow = () => {\n    document.getElementsByClassName(\"findLocationShow\")[0].style.display =\n      \"block\";\n    document.getElementsByClassName(\"likeLocationShow\")[0].style.display =\n      \"none\";\n  };\n  handleCollectionShow = () => {\n    document.getElementsByClassName(\"findLocationShow\")[0].style.display =\n      \"none\";\n    document.getElementsByClassName(\"likeLocationShow\")[0].style.display =\n      \"block\";\n  };\n\n  setInfoOpen = (state) => {\n    this.setState({\n      infoOpen: state,\n    });\n  };\n  setSelectedPlace = (item) => {\n    console.log(item);\n    let obj = {\n      lat: parseFloat(item.latitude),\n      lng: parseFloat(item.longitude),\n    };\n    this.setState({\n      selectedPlace: {\n        pos: obj,\n        name: item.name,\n      },\n    });\n  };\n  setSelectedPlaceMarker = (item) => {\n    console.log(item);\n    let obj = {};\n    obj[\"pos\"] = {\n      lat: item.pos.lat,\n      lng: item.pos.lng,\n    };\n    obj[\"name\"] = item.name;\n\n    this.setState({\n      selectedPlace: obj,\n    });\n  };\n\n  showTraffic = (data) => {\n    console.log(data);\n\n    this.setState({\n      traffic: data,\n    });\n  };\n  handleTraffic = (traffic) => {\n    console.log(traffic);\n    this.setState({\n      trafficDetail: traffic,\n    });\n  };\n\n  render() {\n    return (\n      <div className={styles.scheduleWithMap}>\n        <div className={styles.scheduleAll}>\n          <div className={styles.switchBtn}>\n            <button onClick={this.handleLocationShow}>景點搜尋</button>\n            <button onClick={this.handleCollectionShow}>我的收藏</button>\n          </div>\n          {this.state.travelData.map((item) => {\n            return (\n              <div key={item.id} className={styles.scheduleListAll}>\n                <div className={styles.scheduleList}>\n                  <div className={styles.scheduleTitle}>\n                    {item.TravelScheduleName}\n                  </div>\n                  <div className={styles.date}>\n                    {item.StartDate} ～ {item.EndDate}\n                  </div>\n                  <img\n                    className={styles.schedulePhoto}\n                    src={item.CoverImgUrl}\n                  />\n                </div>\n              </div>\n            );\n          })}\n          <DragDropContext\n            onDragEnd={this.onDragEnd}\n            onDragStart={this.onDragStart}\n          >\n            {this.state.travelData.map((i) => {\n              return (\n                <DropSchedule\n                  key={i}\n                  getCountry={this.getCountry}\n                  setInfoOpen={this.setInfoOpen}\n                  selectedPlace={this.state.selectedPlace}\n                  setSelectedPlace={this.setSelectedPlace}\n                  traffic={this.state.traffic}\n                  handleTraffic={this.handleTraffic}\n                  trafficDetail={this.state.trafficDetail}\n                />\n              );\n            })}\n          </DragDropContext>\n        </div>\n\n        <div className={styles.scheduleMap}>\n          <ScheduleMap\n            travelDataArr={this.state.travelDataArr}\n            infoOpen={this.state.infoOpen}\n            setInfoOpen={this.setInfoOpen}\n            selectedPlace={this.state.selectedPlace}\n            setSelectedPlaceMarker={this.setSelectedPlaceMarker}\n            travelShowId={this.state.travelShowId}\n            showTraffic={this.showTraffic}\n            // handleTraffic={this.handleTraffic}\n            trafficDetail={this.state.trafficDetail}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nEditSchedule.propTypes = {\n  travelShow: PropTypes.number,\n};\n\nexport default EditSchedule;\n","import React, { useState, useEffect } from \"react\";\nimport firebase from \"../firebase\";\nimport AddSchedule from \"./AddSchedule\";\nimport EditSchedule from \"./EditSchedule\";\n\nimport styles from \"../scss/schedule.module.scss\";\nimport PropTypes from \"prop-types\";\nimport { Route, Link, useRouteMatch, useLocation } from \"react-router-dom\";\n\nconst db = firebase.firestore();\n\nconst ScheduleIndex = (props) => {\n  const { path, url } = useRouteMatch();\n  const [TravelSchedule, setTravelSchedule] = useState([]);\n  const [TravelId, setTravelId] = useState(null);\n  let location = useLocation();\n  let travelShow = location.pathname.charAt(location.pathname.length - 1);\n  // const addNewTravel = newTravel => {\n  //   setTravelSchedule([...TravelSchedule, newTravel]);\n  // };\n\n  useEffect(() => {\n    db.collection(\"schedule\")\n      .doc(\"userId\")\n      .collection(\"data\")\n      .onSnapshot((querySnapshot) => {\n        let TravelScheduleTemp = [];\n        querySnapshot.forEach((doc) => {\n          TravelScheduleTemp.push(doc.data());\n        });\n        setTravelSchedule(TravelScheduleTemp);\n      });\n  }, []);\n\n  return (\n    <div className={styles.scheduleLayout}>\n      <ul className={styles.scheduleNav}>\n        <li onClick={() => setTravelId(null)}>\n          <Link to={`${url}/addSchedule`}>新增行程</Link>\n        </li>\n        <li onClick={() => setTravelId(null)}>\n          <Link to=\"/schedule\">所有行程</Link>\n        </li>\n      </ul>\n      <div className={styles.scheduleListRange}>\n        {TravelId === null && travelShow == \"e\" && (\n          <div className={styles.scheduleListDetail}>\n            {TravelSchedule.map((item) => {\n              return (\n                <div key={item.id} id={item.id}>\n                  <div\n                    className={styles.scheduleList}\n                    onClick={() => {\n                      setTravelId(item.id);\n                      props.history.push(`${url}/editSchedule/${item.id}`);\n                    }}\n                  >\n                    <div className={styles.scheduleTitle}>\n                      {item.TravelScheduleName}\n                    </div>\n                    <div className={styles.date}>\n                      {item.StartDate} ～ {item.EndDate}\n                    </div>\n                    <img\n                      className={styles.schedulePhoto}\n                      src={item.CoverImgUrl}\n                    />\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        )}\n\n        <div>\n          <Route path={`${path}/addSchedule`} component={AddSchedule}></Route>\n          <Route\n            path={`${path}/editSchedule/:travelShow`}\n            component={EditSchedule}\n          ></Route>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nScheduleIndex.propTypes = {\n  history: PropTypes.object.isRequired,\n};\n\nexport default ScheduleIndex;\n","import React from \"react\";\nimport LocationIndex from \"./location\";\nimport LocationDetail from \"./locationDetail\";\nimport ScheduleIndex from \"./schedule\";\nimport MemberIndex from \"./member\";\nimport styles from \"./scss/App.module.scss\";\n\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\n//Link\nclass App extends React.Component {\n  render() {\n    return (\n      <Router>\n        <div className={styles.app}>\n          <Switch>\n            <Route exact path=\"/\" component={LocationIndex} />\n            <Route\n              exact\n              path=\"/locationDetail/:tags\"\n              component={LocationDetail}\n            />\n            <Route path=\"/schedule\" component={ScheduleIndex} />\n            <Route path=\"/member\" component={MemberIndex} />\n          </Switch>\n        </div>\n      </Router>\n    );\n  }\n}\n\n{\n  /* <nav>\n  <ul>\n    <li>\n      <Link to=\"/\">Home</Link>\n    </li>\n    <li>\n      <Link to=\"/locationDetail\">景點</Link>\n    </li>\n    <li>\n      <Link to=\"/users\">Users</Link>\n    </li>\n  </ul>\n</nav>; */\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scheduleListDetail\":\"schedule_scheduleListDetail__3qMA0\",\"scheduleList\":\"schedule_scheduleList__NO_eD\",\"scheduleLayout\":\"schedule_scheduleLayout__29TPw\",\"scheduleListRange\":\"schedule_scheduleListRange__14W2t\",\"schedulePhoto\":\"schedule_schedulePhoto__37BkL\",\"scheduleTitle\":\"schedule_scheduleTitle__1YDf7\",\"date\":\"schedule_date__2GO-0\",\"scheduleNav\":\"schedule_scheduleNav__1_tqN\",\"scheduleListAll\":\"schedule_scheduleListAll__2QeDR\",\"scheduleDetail\":\"schedule_scheduleDetail__vGFeD\",\"emptyList\":\"schedule_emptyList__2h6ZB\",\"scheduleAll\":\"schedule_scheduleAll__2Mnlj\",\"scheduleDateAll\":\"schedule_scheduleDateAll__31z0_\",\"scheduleDateOnly\":\"schedule_scheduleDateOnly__2yywU\",\"switchBtn\":\"schedule_switchBtn__mkTm2\",\"likeList\":\"schedule_likeList__2sicR\",\"item\":\"schedule_item__UDFGa\",\"itemList\":\"schedule_itemList__2z7wa\",\"itemPhoto\":\"schedule_itemPhoto__3grB0\",\"itemListDelete\":\"schedule_itemListDelete__OwiN7\",\"itemLike\":\"schedule_itemLike__rI0GL\",\"searchLike\":\"schedule_searchLike__26w5O\",\"searchAll\":\"schedule_searchAll__1szFM\",\"locationList\":\"schedule_locationList__2UEoS\",\"scheduleMap\":\"schedule_scheduleMap__3ERXu\",\"markerText\":\"schedule_markerText__3eU_A\",\"itemTraffic\":\"schedule_itemTraffic__2wlQ8\",\"itemSelect\":\"schedule_itemSelect__nW2in\"};"],"sourceRoot":""}